storage.fusion.fusion_sanity.FusionSanity:

    # Rebalance-in Tests

    # Single bucket
    # 1 node cluster, Rebalance-in N nodes
    test_fusion_rebalance,num_items=5000000,nodes_init=1,sdk_timeout=60,ops_rate=30000,replicas=0,init_loading=False,standard_buckets=1,magma_buckets=1,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_in=1
    test_fusion_rebalance,num_items=5000000,nodes_init=1,sdk_timeout=60,ops_rate=30000,replicas=0,init_loading=False,standard_buckets=1,magma_buckets=1,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_in=2
    test_fusion_rebalance,num_items=5000000,nodes_init=1,sdk_timeout=60,ops_rate=30000,replicas=0,init_loading=False,standard_buckets=1,magma_buckets=1,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_in=3

    # 2 node cluster, Rebalance-in N nodes
    test_fusion_rebalance,num_items=5000000,nodes_init=2,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,standard_buckets=1,magma_buckets=1,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_in=1
    test_fusion_rebalance,num_items=5000000,nodes_init=2,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,standard_buckets=1,magma_buckets=1,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_in=2
    test_fusion_rebalance,num_items=5000000,nodes_init=2,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,standard_buckets=1,magma_buckets=1,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_in=3

    # 3 node cluster, Rebalance-in N nodes
    test_fusion_rebalance,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=2,init_loading=False,standard_buckets=1,magma_buckets=1,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_in=1
    test_fusion_rebalance,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=2,init_loading=False,standard_buckets=1,magma_buckets=1,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_in=2
    test_fusion_rebalance,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=2,init_loading=False,standard_buckets=1,magma_buckets=1,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_in=3

    # Multi bucket
    # 1 node cluster, Rebalance-in N nodes
    test_fusion_rebalance,num_items=5000000,nodes_init=1,sdk_timeout=60,ops_rate=30000,replicas=0,init_loading=False,standard_buckets=3,magma_buckets=3,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_in=1
    test_fusion_rebalance,num_items=5000000,nodes_init=1,sdk_timeout=60,ops_rate=30000,replicas=0,init_loading=False,standard_buckets=3,magma_buckets=3,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_in=2
    test_fusion_rebalance,num_items=5000000,nodes_init=1,sdk_timeout=60,ops_rate=30000,replicas=0,init_loading=False,standard_buckets=3,magma_buckets=3,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_in=3

    # 2 node cluster, Rebalance-in N nodes
    test_fusion_rebalance,num_items=5000000,nodes_init=2,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,standard_buckets=3,magma_buckets=3,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_in=1
    test_fusion_rebalance,num_items=5000000,nodes_init=2,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,standard_buckets=3,magma_buckets=3,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_in=2
    test_fusion_rebalance,num_items=5000000,nodes_init=2,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,standard_buckets=3,magma_buckets=3,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_in=3

    # 3 node cluster, Rebalance-in N nodes
    test_fusion_rebalance,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=2,init_loading=False,standard_buckets=3,magma_buckets=3,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_in=1
    test_fusion_rebalance,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=2,init_loading=False,standard_buckets=3,magma_buckets=3,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_in=2
    test_fusion_rebalance,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=2,init_loading=False,standard_buckets=3,magma_buckets=3,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_in=3


    # Rebalance-out Tests

    # Single bucket
    # 5 node cluster, Rebalance-out N nodes
    test_fusion_rebalance,num_items=5000000,nodes_init=5,sdk_timeout=60,ops_rate=30000,replicas=3,init_loading=False,standard_buckets=1,magma_buckets=1,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_out=1
    test_fusion_rebalance,num_items=5000000,nodes_init=5,sdk_timeout=60,ops_rate=30000,replicas=3,init_loading=False,standard_buckets=1,magma_buckets=1,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_out=2
    test_fusion_rebalance,num_items=5000000,nodes_init=5,sdk_timeout=60,ops_rate=30000,replicas=3,init_loading=False,standard_buckets=1,magma_buckets=1,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_out=3

    # 4 node cluster, Rebalance-out N nodes
    test_fusion_rebalance,num_items=5000000,nodes_init=4,sdk_timeout=60,ops_rate=30000,replicas=2,init_loading=False,standard_buckets=1,magma_buckets=1,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_out=1
    test_fusion_rebalance,num_items=5000000,nodes_init=4,sdk_timeout=60,ops_rate=30000,replicas=2,init_loading=False,standard_buckets=1,magma_buckets=1,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_out=2
    test_fusion_rebalance,num_items=5000000,nodes_init=4,sdk_timeout=60,ops_rate=30000,replicas=2,init_loading=False,standard_buckets=1,magma_buckets=1,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_out=3

    # 3 node cluster, Rebalance-out N nodes
    test_fusion_rebalance,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,standard_buckets=1,magma_buckets=1,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_out=1
    test_fusion_rebalance,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,standard_buckets=1,magma_buckets=1,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_out=2

    # 2 node cluster, Rebalance-out N nodes
    test_fusion_rebalance,num_items=5000000,nodes_init=2,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,standard_buckets=1,magma_buckets=1,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_out=1

    # Multi bucket
    # 5 node cluster, Rebalance-out N nodes
    test_fusion_rebalance,num_items=5000000,nodes_init=5,sdk_timeout=60,ops_rate=30000,replicas=3,init_loading=False,standard_buckets=3,magma_buckets=3,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_out=1
    test_fusion_rebalance,num_items=5000000,nodes_init=5,sdk_timeout=60,ops_rate=30000,replicas=3,init_loading=False,standard_buckets=3,magma_buckets=3,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_out=2
    test_fusion_rebalance,num_items=5000000,nodes_init=5,sdk_timeout=60,ops_rate=30000,replicas=3,init_loading=False,standard_buckets=3,magma_buckets=3,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_out=3

    # 4 node cluster, Rebalance-out N nodes
    test_fusion_rebalance,num_items=5000000,nodes_init=4,sdk_timeout=60,ops_rate=30000,replicas=2,init_loading=False,standard_buckets=3,magma_buckets=3,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_out=1
    test_fusion_rebalance,num_items=5000000,nodes_init=4,sdk_timeout=60,ops_rate=30000,replicas=2,init_loading=False,standard_buckets=3,magma_buckets=3,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_out=2
    test_fusion_rebalance,num_items=5000000,nodes_init=4,sdk_timeout=60,ops_rate=30000,replicas=2,init_loading=False,standard_buckets=3,magma_buckets=3,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_out=3

    # 3 node cluster, Rebalance-out N nodes
    test_fusion_rebalance,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,standard_buckets=3,magma_buckets=3,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_out=1
    test_fusion_rebalance,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,standard_buckets=3,magma_buckets=3,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_out=2

    # 2 node cluster, Rebalance-out N nodes
    test_fusion_rebalance,num_items=5000000,nodes_init=2,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,standard_buckets=3,magma_buckets=3,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_out=1


    # Swap Rebalance Tests

    # Single bucket
    # 2 node cluster, Swap Rebalance N nodes
    test_fusion_rebalance,num_items=5000000,nodes_init=2,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,standard_buckets=1,magma_buckets=1,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_swap_rebalance=1

    # 3 node cluster, Swap Rebalance N nodes
    test_fusion_rebalance,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=2,init_loading=False,standard_buckets=1,magma_buckets=1,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_swap_rebalance=1
    test_fusion_rebalance,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=2,init_loading=False,standard_buckets=1,magma_buckets=1,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_swap_rebalance=2

    # 4 node cluster, Swap Rebalance N nodes
    test_fusion_rebalance,num_items=5000000,nodes_init=4,sdk_timeout=60,ops_rate=30000,replicas=3,init_loading=False,standard_buckets=1,magma_buckets=1,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_swap_rebalance=1
    test_fusion_rebalance,num_items=5000000,nodes_init=4,sdk_timeout=60,ops_rate=30000,replicas=3,init_loading=False,standard_buckets=1,magma_buckets=1,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_swap_rebalance=2
    test_fusion_rebalance,num_items=5000000,nodes_init=4,sdk_timeout=60,ops_rate=30000,replicas=3,init_loading=False,standard_buckets=1,magma_buckets=1,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_swap_rebalance=3

    # 5 node cluster, Swap Rebalance N nodes
    test_fusion_rebalance,num_items=5000000,nodes_init=5,sdk_timeout=60,ops_rate=30000,replicas=3,init_loading=False,standard_buckets=1,magma_buckets=1,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_swap_rebalance=1
    test_fusion_rebalance,num_items=5000000,nodes_init=5,sdk_timeout=60,ops_rate=30000,replicas=3,init_loading=False,standard_buckets=1,magma_buckets=1,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_swap_rebalance=2
    test_fusion_rebalance,num_items=5000000,nodes_init=5,sdk_timeout=60,ops_rate=30000,replicas=3,init_loading=False,standard_buckets=1,magma_buckets=1,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_swap_rebalance=3
    test_fusion_rebalance,num_items=5000000,nodes_init=5,sdk_timeout=60,ops_rate=30000,replicas=3,init_loading=False,standard_buckets=1,magma_buckets=1,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_swap_rebalance=4

    # Multi bucket
    # 2 node cluster, Swap Rebalance N nodes
    test_fusion_rebalance,num_items=5000000,nodes_init=2,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,standard_buckets=3,magma_buckets=3,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_swap_rebalance=1

    # 3 node cluster, Swap Rebalance N nodes
    test_fusion_rebalance,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=2,init_loading=False,standard_buckets=3,magma_buckets=3,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_swap_rebalance=1
    test_fusion_rebalance,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=2,init_loading=False,standard_buckets=3,magma_buckets=3,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_swap_rebalance=2

    # 4 node cluster, Swap Rebalance N nodes
    test_fusion_rebalance,num_items=5000000,nodes_init=4,sdk_timeout=60,ops_rate=30000,replicas=3,init_loading=False,standard_buckets=3,magma_buckets=3,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_swap_rebalance=1
    test_fusion_rebalance,num_items=5000000,nodes_init=4,sdk_timeout=60,ops_rate=30000,replicas=3,init_loading=False,standard_buckets=3,magma_buckets=3,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_swap_rebalance=2
    test_fusion_rebalance,num_items=5000000,nodes_init=4,sdk_timeout=60,ops_rate=30000,replicas=3,init_loading=False,standard_buckets=3,magma_buckets=3,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_swap_rebalance=3

    # 5 node cluster, Swap Rebalance N nodes
    test_fusion_rebalance,num_items=5000000,nodes_init=5,sdk_timeout=60,ops_rate=30000,replicas=3,init_loading=False,standard_buckets=3,magma_buckets=3,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_swap_rebalance=1
    test_fusion_rebalance,num_items=5000000,nodes_init=5,sdk_timeout=60,ops_rate=30000,replicas=3,init_loading=False,standard_buckets=3,magma_buckets=3,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_swap_rebalance=2
    test_fusion_rebalance,num_items=5000000,nodes_init=5,sdk_timeout=60,ops_rate=30000,replicas=3,init_loading=False,standard_buckets=3,magma_buckets=3,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_swap_rebalance=3
    test_fusion_rebalance,num_items=5000000,nodes_init=5,sdk_timeout=60,ops_rate=30000,replicas=3,init_loading=False,standard_buckets=3,magma_buckets=3,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_swap_rebalance=4
