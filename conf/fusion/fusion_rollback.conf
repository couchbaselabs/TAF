storage.fusion.fusion_magma_rollback.FusionMagmaRollback:
  # This configuration file will have fusion rollback tests with fusion rebalance integration

  ################################# Basic Magma Rollback Test #################################
  # test_fusion_magma_rollback_basic,num_items=5000000,doc_size=1024,nodes_init=2,rollback_items=50000,num_rollbacks=3,sdk_timeout=120,vbuckets=16,key_size=12,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,init_loading=False,num_nodes_to_rebalance_in=1
  # test_fusion_magma_rollback_basic,num_items=5000000,doc_size=1024,nodes_init=3,rollback_items=50000,num_rollbacks=3,sdk_timeout=120,vbuckets=16,key_size=12,replicas=2,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,init_loading=False,num_nodes_to_rebalance_out=1
  # test_fusion_magma_rollback_basic,num_items=5000000,doc_size=1024,nodes_init=3,rollback_items=50000,num_rollbacks=3,sdk_timeout=120,vbuckets=16,key_size=12,replicas=2,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,init_loading=False,num_nodes_to_swap_rebalance=1

  ################################# Magma Rollback with CDC Test #################################
  test_fusion_magma_rollback_with_CDC,bucket_ram_quota=1024,nodes_init=3,num_items=5000000,num_collections=10,doc_size=1024,bucket_history_retention_seconds=86400,bucket_history_retention_bytes=99636764160,randomize_value=True,rollback_items=1000,autoCompactionDefined=true,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,init_loading=False,num_nodes_to_rebalance_in=1
  test_fusion_magma_rollback_with_CDC,bucket_ram_quota=1024,set_history_in_test=True,nodes_init=3,num_items=5000000,num_collections=10,doc_size=1024,bucket_history_retention_seconds=0,bucket_history_retention_bytes=0,randomize_value=True,rollback_items=1000,autoCompactionDefined=true,test_itr=5,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,init_loading=False,num_nodes_to_rebalance_out=1
  test_fusion_magma_rollback_with_CDC,bucket_ram_quota=1024,set_history_in_test=True,wipe_history=True,nodes_init=3,num_items=5000000,num_collections=10,doc_size=1024,bucket_history_retention_seconds=86400,bucket_history_retention_bytes=1000000000000,retention_seconds_to_wipe_history=60,randomize_value=True,rollback_items=1000,autoCompactionDefined=true,test_itr=4,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,init_loading=False,num_nodes_to_swap_rebalance=1

  ################################# Rollback to Same Snapshot #################################
  # Stops persistence on master node, All other nodes will roll back
  test_fusion_magma_rollback_to_same_snapshot,num_items=3000000,doc_size=256,nodes_init=2,sdk_timeout=120,num_rollbacks=2,vbuckets=512,rollback_items=50000,duration=2,key_size=12,replicas=1,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,init_loading=False,num_nodes_to_rebalance_in=1
  test_fusion_magma_rollback_to_same_snapshot,num_items=3000000,doc_size=256,nodes_init=2,sdk_timeout=120,num_rollbacks=3,vbuckets=512,rollback_items=100000,duration=2,key_size=12,doc_ops=delete,replicas=1,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,init_loading=False,num_nodes_to_rebalance_out=1
  test_fusion_magma_rollback_to_same_snapshot,num_items=3000000,doc_size=256,nodes_init=2,sdk_timeout=120,num_rollbacks=3,vbuckets=512,rollback_items=100000,duration=2,key_size=12,doc_ops=expiry,replicas=1,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,init_loading=False,num_nodes_to_swap_rebalance=1
  test_fusion_magma_rollback_to_same_snapshot,num_items=3000000,doc_size=256,nodes_init=2,sdk_timeout=120,num_rollbacks=3,vbuckets=512,rollback_items=100000,duration=2,key_size=12,doc_ops=update,replicas=1,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,init_loading=False,num_nodes_to_rebalance_in=1

  # Length of doc ops == 2
  test_fusion_magma_rollback_to_same_snapshot,num_items=5000000,doc_size=1024,nodes_init=3,sdk_timeout=120,num_rollbacks=3,vbuckets=128,rollback_items=50000,duration=2,key_size=12,doc_ops=expiry:delete,replicas=2,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,init_loading=False,num_nodes_to_rebalance_out=1
  test_fusion_magma_rollback_to_same_snapshot,num_items=5000000,doc_size=1024,nodes_init=3,sdk_timeout=120,num_rollbacks=3,vbuckets=128,rollback_items=100000,duration=2,key_size=12,doc_ops=create:expiry,replicas=2,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,init_loading=False,num_nodes_to_swap_rebalance=1

  ################################# Rollback to New Snapshot #################################
  # Stops persistence on master node, All other nodes will roll back
  test_fusion_magma_rollback_to_new_snapshot,num_items=2000000,doc_size=256,nodes_init=2,sdk_timeout=120,num_rollbacks=5,vbuckets=512,rollback_items=100000,duration=2,key_size=12,replicas=1,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,init_loading=False,num_nodes_to_rebalance_in=1
  test_fusion_magma_rollback_to_new_snapshot,num_items=2000000,doc_size=256,nodes_init=2,sdk_timeout=120,num_rollbacks=5,vbuckets=512,rollback_items=100000,duration=2,key_size=12,doc_ops=delete,replicas=1,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,init_loading=False,num_nodes_to_rebalance_out=1
  test_fusion_magma_rollback_to_new_snapshot,num_items=2000000,doc_size=256,nodes_init=2,sdk_timeout=120,num_rollbacks=5,vbuckets=512,rollback_items=100000,duration=2,key_size=12,doc_ops=expiry,replicas=1,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,init_loading=False,num_nodes_to_swap_rebalance=1
  test_fusion_magma_rollback_to_new_snapshot,num_items=2000000,doc_size=256,nodes_init=2,sdk_timeout=120,num_rollbacks=5,vbuckets=512,rollback_items=100000,duration=2,key_size=12,doc_ops=update,replicas=1,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,init_loading=False,num_nodes_to_rebalance_in=1

  # Length of doc ops == 2
  test_fusion_magma_rollback_to_new_snapshot,num_items=5000000,doc_size=256,nodes_init=3,sdk_timeout=120,num_rollbacks=5,vbuckets=1024,rollback_items=100000,duration=2,key_size=12,doc_ops=create:expiry,replicas=2,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,init_loading=False,num_nodes_to_rebalance_out=1
  test_fusion_magma_rollback_to_new_snapshot,num_items=5000000,doc_size=256,nodes_init=3,sdk_timeout=120,num_rollbacks=5,vbuckets=1024,rollback_items=100000,duration=2,key_size=12,doc_ops=create:delete,replicas=2,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,init_loading=False,num_nodes_to_swap_rebalance=1
  test_fusion_magma_rollback_to_new_snapshot,num_items=5000000,doc_size=256,nodes_init=3,sdk_timeout=120,num_rollbacks=5,vbuckets=1024,rollback_items=100000,duration=2,key_size=12,doc_ops=create:update,replicas=2,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,init_loading=False,num_nodes_to_rebalance_in=1

  ################################# Rollback on All Nodes #################################
  # Rollback operations on all nodes (active like in magma/rollback_with_non_default_max_commit_points.conf)
  test_fusion_magma_rollback_on_all_nodes,num_items=10000000,doc_size=256,nodes_init=2,sdk_timeout=60,num_rollbacks=10,max_commit_points=4,vbuckets=16,rollback_items=50000,duration=2,key_size=12,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,init_loading=False,num_nodes_to_rebalance_in=1
  test_fusion_magma_rollback_on_all_nodes,num_items=10000000,doc_size=256,nodes_init=3,sdk_timeout=60,num_rollbacks=10,max_commit_points=4,vbuckets=16,rollback_items=50000,duration=2,replicas=2,key_size=12,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,init_loading=False,num_nodes_to_rebalance_out=1

  ################################# Crash During Rollback #################################
  # Crash during rollback tests (active like in magma/rollback.conf)
  test_fusion_crash_during_rollback,num_items=50000,doc_size=1024,nodes_init=4,num_rollbacks=5,vbuckets=1024,rollback_items=2000,replicas=3,key_size=12,init_loading=False,doc_ops=expiry:create:update:delete,num_collections=49,process_concurrency=2,collections_for_rollback=10,threads_to_use=1000,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_in=1
  test_fusion_crash_during_rollback,num_items=40000,doc_size=1024,nodes_init=3,num_rollbacks=5,vbuckets=1024,rollback_items=2000,replicas=2,key_size=12,init_loading=False,doc_ops=expiry:create:update:delete,num_collections=49,process_concurrency=2,collections_for_rollback=10,threads_to_use=1000,target_active_nodes=2,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_out=1
  test_fusion_crash_during_rollback,num_items=20000,doc_size=1024,nodes_init=2,num_rollbacks=5,vbuckets=1024,rollback_items=500,replicas=1,key_size=12,init_loading=False,doc_ops=expiry:create:update:delete,num_collections=49,process_concurrency=2,collections_for_rollback=10,threads_to_use=1000,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_swap_rebalance=1

  ################################# Rebalance During Rollback #################################
  # Rebalance during rollback tests (active like in magma/rollback.conf)
  test_fusion_rebalance_during_rollback,num_items=3000000,doc_size=1024,nodes_init=4,sdk_timeout=120,num_rollbacks=5,vbuckets=1024,doc_ops=create:update:delete:expire,rollback_items=100000,replicas=3,num_collections=0,process_concurrency=2,collections_for_rollback=1,threads_to_use=1000,init_loading=False,nodes_in=3,nodes_out=2,rebalance_out_master=True,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_in=1
  test_fusion_rebalance_during_rollback,num_items=3000000,doc_size=1024,nodes_init=3,sdk_timeout=120,num_rollbacks=5,vbuckets=1024,doc_ops=create:update:delete:expire,rollback_items=100000,replicas=3,num_collections=0,process_concurrency=2,collections_for_rollback=1,threads_to_use=1000,init_loading=False,nodes_in=2,nodes_out=0,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_rebalance_out=1
  test_fusion_rebalance_during_rollback,num_items=30000,doc_size=256,nodes_init=3,sdk_timeout=120,num_rollbacks=5,vbuckets=1024,doc_ops=create:update:delete:expire,rollback_items=1000,replicas=3,num_collections=49,process_concurrency=2,collections_for_rollback=50,threads_to_use=2000,init_loading=False,nodes_in=1,nodes_out=1,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,num_nodes_to_swap_rebalance=1
