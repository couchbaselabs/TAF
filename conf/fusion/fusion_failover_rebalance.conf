storage.fusion.fusion_failover_rebalance.FusionFailoverRebalance:

    # Fusion Magma + CouchStore tests
    # Fusion Enabled from start
    test_fusion_magma_couchstore,num_items=5000000,nodes_init=2,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,standard_buckets=3,magma_buckets=2,num_nodes_to_rebalance_in=2
    test_fusion_magma_couchstore,num_items=5000000,nodes_init=2,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,standard_buckets=3,magma_buckets=1,num_nodes_to_rebalance_in=2

    test_fusion_magma_couchstore,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,standard_buckets=3,magma_buckets=2,num_nodes_to_rebalance_out=1
    test_fusion_magma_couchstore,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,standard_buckets=3,magma_buckets=2,num_nodes_to_rebalance_out=1
    test_fusion_magma_couchstore,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,standard_buckets=3,magma_buckets=1,num_nodes_to_rebalance_out=2

    test_fusion_magma_couchstore,num_items=5000000,nodes_init=2,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,standard_buckets=3,magma_buckets=2,num_nodes_to_swap_rebalance=2
    test_fusion_magma_couchstore,num_items=5000000,nodes_init=2,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,standard_buckets=3,magma_buckets=1,num_nodes_to_swap_rebalance=2

    # Fusion Enabled midway
    test_fusion_magma_couchstore,num_items=5000000,nodes_init=2,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,fusion_enable=False,standard_buckets=3,magma_buckets=2,num_nodes_to_rebalance_in=2
    test_fusion_magma_couchstore,num_items=5000000,nodes_init=2,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,fusion_enable=False,standard_buckets=3,magma_buckets=2,num_nodes_to_rebalance_in=2,enable_magma_bucket_count=1
    test_fusion_magma_couchstore,num_items=5000000,nodes_init=2,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,fusion_enable=False,standard_buckets=3,magma_buckets=1,num_nodes_to_rebalance_in=2

    test_fusion_magma_couchstore,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,fusion_enable=False,standard_buckets=3,magma_buckets=2,num_nodes_to_rebalance_out=1
    test_fusion_magma_couchstore,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,fusion_enable=False,standard_buckets=3,magma_buckets=2,num_nodes_to_rebalance_out=2
    test_fusion_magma_couchstore,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,fusion_enable=False,standard_buckets=3,magma_buckets=2,num_nodes_to_rebalance_out=2,enable_magma_bucket_count=1
    test_fusion_magma_couchstore,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,fusion_enable=False,standard_buckets=3,magma_buckets=1,num_nodes_to_rebalance_out=1

    test_fusion_magma_couchstore,num_items=5000000,nodes_init=2,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,fusion_enable=False,standard_buckets=3,magma_buckets=2,num_nodes_to_swap_rebalance=2
    test_fusion_magma_couchstore,num_items=5000000,nodes_init=2,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,fusion_enable=False,standard_buckets=3,magma_buckets=2,num_nodes_to_swap_rebalance=2,enable_magma_bucket_count=1
    test_fusion_magma_couchstore,num_items=5000000,nodes_init=2,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,fusion_enable=False,standard_buckets=3,magma_buckets=1,num_nodes_to_swap_rebalance=2


    # Failover/Recovery using Fusion
    # Single Magma bucket
    test_fusion_failover_recovery,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,post_failover_step=rebalance_out,failover_type=hard
    test_fusion_failover_recovery,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,post_failover_step=rebalance_out,failover_type=graceful
    test_fusion_failover_recovery,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,post_failover_step=recovery,recovery_type=full,failover_type=graceful
    test_fusion_failover_recovery,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,post_failover_step=recovery,recovery_type=full,failover_type=hard
    test_fusion_failover_recovery,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,post_failover_step=recovery,recovery_type=delta,failover_type=graceful
    test_fusion_failover_recovery,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,post_failover_step=recovery,recovery_type=delta,failover_type=hard

    # Multiple Magma buckets
    test_fusion_failover_recovery,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,post_failover_step=rebalance_out,failover_type=hard,standard_buckets=3,magma_buckets=3
    test_fusion_failover_recovery,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,post_failover_step=rebalance_out,failover_type=graceful,standard_buckets=3,magma_buckets=3
    test_fusion_failover_recovery,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,post_failover_step=recovery,recovery_type=full,failover_type=graceful,standard_buckets=3,magma_buckets=3
    test_fusion_failover_recovery,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,post_failover_step=recovery,recovery_type=full,failover_type=hard,standard_buckets=3,magma_buckets=3
    test_fusion_failover_recovery,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,post_failover_step=recovery,recovery_type=delta,failover_type=graceful,standard_buckets=3,magma_buckets=3
    test_fusion_failover_recovery,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,post_failover_step=recovery,recovery_type=delta,failover_type=hard,standard_buckets=3,magma_buckets=3

    # Combination of Magma + CouchStore buckets
    test_fusion_failover_recovery,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,post_failover_step=rebalance_out,failover_type=hard,standard_buckets=3,magma_buckets=2
    test_fusion_failover_recovery,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,post_failover_step=rebalance_out,failover_type=graceful,standard_buckets=3,magma_buckets=2
    test_fusion_failover_recovery,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,post_failover_step=recovery,recovery_type=full,failover_type=graceful,standard_buckets=3,magma_buckets=2
    test_fusion_failover_recovery,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,post_failover_step=recovery,recovery_type=full,failover_type=hard,standard_buckets=3,magma_buckets=2
    test_fusion_failover_recovery,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,post_failover_step=recovery,recovery_type=delta,failover_type=graceful,standard_buckets=3,magma_buckets=2
    test_fusion_failover_recovery,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,post_failover_step=recovery,recovery_type=delta,failover_type=hard,standard_buckets=3,magma_buckets=2


    # Fusion Rebalance Crash/Retry
    # Multiple Magma buckets
    test_fusion_rebalance_crash_retry,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,standard_buckets=3,magma_buckets=3,num_nodes_to_rebalance_in=2
    test_fusion_rebalance_crash_retry,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,standard_buckets=3,magma_buckets=3,num_nodes_to_rebalance_out=1
    test_fusion_rebalance_crash_retry,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,standard_buckets=3,magma_buckets=3,num_nodes_to_swap_rebalance=2

    # Combination of Magma + CouchStore buckets
    test_fusion_rebalance_crash_retry,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,standard_buckets=3,magma_buckets=2,num_nodes_to_rebalance_in=2
    test_fusion_rebalance_crash_retry,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,standard_buckets=3,magma_buckets=2,num_nodes_to_rebalance_out=1
    test_fusion_rebalance_crash_retry,num_items=5000000,nodes_init=3,sdk_timeout=60,ops_rate=30000,replicas=1,init_loading=False,bucket_ram_quota=1024,doc_size=2048,fusion_log_store_uri=local:///mnt/nfs/share/buckets,fusion_test=True,standard_buckets=3,magma_buckets=2,num_nodes_to_swap_rebalance=2
